{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Marin Juric\\\\Desktop\\\\fer-opp\\\\web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Marin Juric\\\\Desktop\\\\fer-opp\\\\web\\\\src\\\\App.js\";\nimport React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Header from \"./components/Header\";\nimport Login from \"./components/Login\";\nimport './App.css';\n\nfunction App() {\n  const _React$useState = React.useState(false),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        isLoggedIn = _React$useState2[0],\n        setIsLoggedIn = _React$useState2[1];\n\n  const _React$useState3 = React.useState(true),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        loadingUser = _React$useState4[0],\n        setLoadingUser = _React$useState4[1];\n\n  React.useEffect(() => {\n    fetch(\"/user\").then(response => {\n      if (response.status !== 401) {\n        setLoadingUser(false);\n        setIsLoggedIn(true);\n      } else {\n        setLoadingUser(false);\n      }\n    });\n  }, []);\n\n  if (loadingUser) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n  function onLogin() {\n    setIsLoggedIn(true);\n  }\n\n  function onLogut() {\n    setIsLoggedIn(false);\n  }\n\n  if (!isLoggedIn) {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(Login, {\n      onLogin: onLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }));\n  }\n\n  return React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Header, {\n    onLogout: onLogut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/Logout\",\n    exact: true,\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/Login\",\n    exact: true,\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Marin Juric/Desktop/fer-opp/web/src/App.js"],"names":["React","BrowserRouter","Switch","Route","Header","Login","App","useState","isLoggedIn","setIsLoggedIn","loadingUser","setLoadingUser","useEffect","fetch","then","response","status","onLogin","onLogut"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,EAAuBC,MAAvB,EAA+BC,KAA/B,QAA2C,kBAA3C;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AAAA,0BACuBN,KAAK,CAACO,QAAN,CAAe,KAAf,CADvB;AAAA;AAAA,QACNC,UADM;AAAA,QACMC,aADN;;AAAA,2BAEyBT,KAAK,CAACO,QAAN,CAAe,IAAf,CAFzB;AAAA;AAAA,QAENG,WAFM;AAAA,QAEOC,cAFP;;AAIbX,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpBC,IAAAA,KAAK,CAAC,OAAD,CAAL,CACGC,IADH,CACQC,QAAQ,IAAI;AACf,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3BL,QAAAA,cAAc,CAAC,KAAD,CAAd;AACAF,QAAAA,aAAa,CAAC,IAAD,CAAb;AACD,OAHD,MAGO;AACLE,QAAAA,cAAc,CAAC,KAAD,CAAd;AACD;AACF,KARJ;AASD,GAVD,EAUG,EAVH;;AAYA,MAAID,WAAJ,EAAiB;AACf,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AAED,WAASO,OAAT,GAAmB;AACjBR,IAAAA,aAAa,CAAC,IAAD,CAAb;AACD;;AAED,WAASS,OAAT,GAAmB;AACjBT,IAAAA,aAAa,CAAC,KAAD,CAAb;AACD;;AAED,MAAI,CAACD,UAAL,EAAiB;AACf,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAES,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD;;AAED,SACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,SAAZ;AAAsB,IAAA,KAAK,MAA3B;AAA4B,IAAA,SAAS,EAAEb,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,MAA1B;AAA2B,IAAA,SAAS,EAAEA,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CAFF,CADF;AAWD;;AAED,eAAeC,GAAf","sourcesContent":["import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport Header from \"./components/Header\";\r\nimport Login from \"./components/Login\";\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\r\n  const [loadingUser, setLoadingUser] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    fetch(\"/user\")\r\n      .then(response => {\r\n         if (response.status !== 401) {\r\n           setLoadingUser(false);\r\n           setIsLoggedIn(true);\r\n         } else {\r\n           setLoadingUser(false);\r\n         }\r\n       })\r\n  }, []);\r\n\r\n  if (loadingUser) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  function onLogin() {\r\n    setIsLoggedIn(true)\r\n  }\r\n\r\n  function onLogut() {\r\n    setIsLoggedIn(false);\r\n  }\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <div className=\"App\">\r\n        <Login onLogin={onLogin}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Header onLogout={onLogut}/>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route path='/Logout' exact component={Login}/>\r\n          <Route path='/Login' exact component={Login}/>\r\n        </Switch>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}